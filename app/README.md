# LINE Sticker Capture App

🖼️ LINE STOREのスタンプを個別画像として保存するデスクトップアプリケーション

## ⚠️ 重要な注意事項

**このアプリは私的利用のみを目的としています。**

- スタンプ画像の著作権はLINE株式会社および各クリエイターに帰属します
- 取得した画像の再配布や商用利用は禁止されています
- LINE利用規約および著作権法を遵守してご利用ください

## 機能

✅ **シンプルなUI**: URL入力と進捗表示のみの最小限インターフェース  
✅ **手動ポップアップ処理**: 広告ポップアップを手動で閉じて確実にキャプチャ  
✅ **自動保存**: `./captures/[商品ID]_[日時]/` フォルダに自動整理  
✅ **高品質キャプチャ**: 個別スタンプを高解像度PNG形式で保存  
✅ **メタデータ保存**: 取得日時、URL、枚数などを自動記録  

## システム要件

- **OS**: Windows 10+, macOS 10.15+, Ubuntu 18.04+
- **メモリ**: 4GB以上推奨
- **ディスク**: 100MB以上の空き容量
- **ネットワーク**: インターネット接続必須

## インストール

### 開発環境での実行

1. **リポジトリのクローン**
   ```bash
   git clone https://github.com/ekumaki/line-stamp-capture.git
   cd line-stamp-capture/app
   ```

2. **依存関係のインストール**
   ```bash
   npm install
   ```

3. **Playwrightブラウザのインストール**
   ```bash
   npx playwright install chromium
   ```

4. **アプリの起動**
   ```bash
   npm start
   ```

### ビルド済み実行ファイル

[Releases](https://github.com/ekumaki/line-stamp-capture/releases)ページから最新版をダウンロード

- **Windows**: `LINE-Sticker-Capture-Setup-1.0.0.exe`
- **macOS**: `LINE-Sticker-Capture-1.0.0.dmg` 
- **Linux**: `LINE-Sticker-Capture-1.0.0.AppImage`

## 使用方法

### 基本的な使い方

1. **アプリを起動**
2. **LINE STORE URL を入力**
   ```
   https://store.line.me/stickershop/product/XXXXXXXX/ja
   ```
3. **「開始」ボタンをクリック**
4. **ポップアップが表示されたら手動で閉じる**
5. **自動キャプチャの完了を待つ**

### 詳細手順

#### 1. URL の取得
- LINE STOREでお気に入りのスタンプページを開く
- ブラウザのアドレスバーからURLをコピー
- 正しい形式: `https://store.line.me/stickershop/product/数字/ja`

#### 2. ポップアップの処理
- キャンペーン広告やメッセージ通知のポップアップが表示される場合があります
- 「閉じる」「×」ボタンを手動でクリックして**すべて**閉じてください
- ポップアップが残っていると画像に写り込みます

#### 3. 自動キャプチャ
- ポップアップを閉じると自動的にスタンプキャプチャが開始されます
- 進捗バーで進行状況を確認できます
- 通常40個のスタンプで1-2分程度で完了します

### 出力結果

```
captures/
└── 13982118_20241228_143052/
    ├── 0001.png          # 1番目のスタンプ
    ├── 0002.png          # 2番目のスタンプ
    ├── ...
    ├── 0040.png          # 40番目のスタンプ
    └── meta.json         # メタデータ
```

**meta.json 例:**
```json
{
  "timestamp": "2024-12-28T14:30:52.123Z",
  "source_url": "https://store.line.me/stickershop/product/13982118/ja",
  "product_id": "13982118",
  "sticker_count": 40,
  "tool_version": "1.0.0-app"
}
```

## トラブルシューティング

### ❌ スタンプが見つからない
- URLが正しいか確認してください
- ページが完全に読み込まれてから開始してください
- ブラウザの開発者ツールで要素を確認してください

### ❌ ポップアップが閉じられない
- すべてのポップアップを手動で閉じてください
- ブラウザの別タブで同じページを開いて状況を確認してください
- 一度アプリを再起動してみてください

### ❌ キャプチャに失敗する
- ネットワーク接続を確認してください
- ファイアウォール設定を確認してください
- 出力フォルダの書き込み権限を確認してください

### ❌ アプリが起動しない
- Node.js バージョンを確認してください（推奨: v16以上）
- 依存関係を再インストールしてください: `npm install`
- Playwrightブラウザを再インストールしてください: `npx playwright install`

## 開発

### ビルド

```bash
# 全プラットフォーム
npm run build

# Windows専用
npm run build-win

# macOS専用  
npm run build-mac

# Linux専用
npm run build-linux
```

### 開発モード

```bash
# DevToolsを開いて起動
npm run dev
```

## 技術仕様

- **フレームワーク**: Electron
- **UI**: vanilla HTML/CSS/JavaScript
- **ブラウザ自動化**: Playwright (Chromium)
- **画像形式**: PNG
- **対応解像度**: 元画像サイズを保持

## バージョン履歴

### v1.0.0 (2024-12-28)
- 初回リリース
- 基本的なスタンプキャプチャ機能
- 手動ポップアップ処理
- 自動保存とメタデータ生成

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

**重要**: MITライセンスはソースコードのみに適用されます。キャプチャされたスタンプ画像の著作権はLINE株式会社および各クリエイターに帰属し、このライセンスの対象外です。

## 免責事項

このツールはLINE株式会社とは無関係の非公式ツールです。利用は自己責任で行い、著作権法およびLINE利用規約を遵守してください。開発者は本ツールの使用によって生じたいかなる損害についても責任を負いません。